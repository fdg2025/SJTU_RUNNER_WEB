# 密码管理说明

## 📋 概述

本系统使用基于文件的密码认证系统，通过修改 `passwords.txt` 文件来管理访问密码。

## 🔐 密码文件格式

### 文件位置
```
web/passwords.txt
```

### 文件格式
```txt
# SJTU跑步工具访问密码列表
# 每行一个密码，以#开头的行为注释
# 修改此文件后需要重新部署

sjtu2024
running123
sports2024
admin888
```

### 格式规则
- 每行一个密码
- 以 `#` 开头的行为注释，会被忽略
- 空行会被忽略
- 密码不区分大小写
- 密码前后的空格会被自动去除

## 🛠️ 管理密码

### 添加新密码
1. 编辑 `passwords.txt` 文件
2. 在文件末尾添加新密码（每行一个）
3. 保存文件
4. 重新部署应用

### 删除密码
1. 编辑 `passwords.txt` 文件
2. 删除对应的密码行，或在行首添加 `#` 注释掉
3. 保存文件
4. 重新部署应用

### 修改密码
1. 编辑 `passwords.txt` 文件
2. 直接修改对应的密码
3. 保存文件
4. 重新部署应用

## 📝 示例

### 有效的密码文件
```txt
# 管理员密码
admin2024
superuser

# 用户密码
user123
sjtu_runner
sports_tool

# 临时密码
temp_access_2024
```

### 无效的格式
```txt
# 这些格式是错误的：
password1 password2  # 一行多个密码（错误）
                     # 空行（会被忽略，但不是错误）
# commented_password # 被注释的密码（会被忽略）
```

## 🔒 安全建议

1. **定期更换密码**：建议定期更新密码文件中的密码
2. **使用强密码**：密码应包含字母、数字，长度至少8位
3. **限制访问**：不要将密码分享给不必要的人员
4. **备份密码文件**：在修改前备份原文件
5. **监控访问**：定期检查应用日志，监控异常访问

## 🚀 部署后生效

修改密码文件后，需要重新部署应用才能生效：

### Vercel部署
1. 提交更改到GitHub
2. Vercel会自动重新部署
3. 新密码立即生效

### 本地测试
```bash
cd web
npm run dev
```

## 🔧 故障排除

### 密码不生效
1. 检查文件格式是否正确
2. 确认是否重新部署了应用
3. 检查密码是否包含特殊字符或空格

### 无法登录
1. 确认密码输入正确（不区分大小写）
2. 检查密码文件是否存在
3. 查看应用日志获取详细错误信息

### 默认密码
如果密码文件读取失败，系统会使用默认密码：
- `sjtu2024`
- `running123`

## 📞 技术支持

如果遇到密码管理相关问题，请：
1. 检查应用日志
2. 确认文件格式正确
3. 联系系统管理员
